/*!
 * reorder - A drag and drop to reorder library
 * v0.0.3
 * http://github.com/jgallen23/reorder
 * copyright Greg Allen 2013
 * MIT License
*/
!function(a){a.declare("reorder",{defaults:{draggingClass:"reorder-dragging",placeholderClass:"reorder-placeholder"},init:function(){this.dragIndex=null,this.clonedEl=null,this.dragEl=null,this.newIndex=null,this.getItems(),this.attachEvents()},getItems:function(){return this.items=this.el.find("[draggable]"),this.items},attachEvents:function(){this.el.on("dragstart","[draggable]",this.proxy(this.onDrag)),this.el.on("dragenter dragover","[draggable]",this.proxy(this.onDragOver)),this.el.on("dragend","[draggable]",this.proxy(this.onDragDrop)),this.el.on("dragend","[draggable]",this.proxy(this.onDragEnd))},onDrag:function(b){var c=b.originalEvent,d=a(b.target);c.dataTransfer.setData("text",""),c.dataTransfer.effectAllowed="move",this.dragEl=d,this.dragIndex=d.index(),this.clonedEl=d.clone(!0),this.emit("dragstart",[b])},onDragOver:function(b){var c=b.originalEvent,d=a(b.target),e="Before";return this.dragEl.is(d)?(this.clonedEl.remove(),this.dragEl.show(),void 0):(this.dragEl.hide(),c.pageY-d.offset().top>d.outerHeight()/2&&(e="After"),this.clonedEl["insert"+e](d).addClass(this.placeholderClass),this.dragEl.addClass(this.draggingClass),this.newIndex=this.clonedEl,this.emit("dragover",[b]),void 0)},onDragDrop:function(b){if(null!==this.newIndex){var c=b.originalEvent,d="Before",e=a(b.target);c.pageY-e.offset().top>e.outerHeight()/2&&(d="After"),this.dragEl["insert"+d](this.newIndex).show()}this.emit("dragdrop",[b])},onDragEnd:function(a){this.dragIndex=null,this.clonedEl=null,this.dragEl=null,this.newIndex=null,this.getItems().removeClass(this.draggingClass),this.el.find("."+this.placeholderClass).remove(),this.emit("dragend",[a])}})}(jQuery);