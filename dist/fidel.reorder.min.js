/*!
 * reorder - A drag and drop to reorder library
 * v0.1.0
 * http://github.com/jgallen23/reorder
 * copyright Greg Allen 2013
 * MIT License
*/
!function(a){a.declare("reorder",{defaults:{draggingClass:"reorder-dragging",placeholderClass:"reorder-placeholder"},init:function(){this.dragIndex=null,this.clonedEl=null,this.dragEl=null,this.newIndex=null,this.getItems(),this.attachEvents()},getItems:function(){return this.items=this.el.find("[draggable]"),this.items},attachEvents:function(){this.el.on("dragstart","[draggable]",this.proxy(this.onDrag)),this.el.on("dragenter","[draggable]",this.proxy(this.onDragOver)),this.el.on("dragend","[draggable]",this.proxy(this.onDragDrop)),this.el.on("dragend","[draggable]",this.proxy(this.onDragEnd))},onDrag:function(b){var c=b.originalEvent,d=a(b.target);c.dataTransfer.setData("text",""),c.dataTransfer.effectAllowed="move",this.dragEl=d,this.dragIndex=d.index(),this.clonedEl=d.clone(!0),this.emit("dragstart",[b])},onDragOver:function(b){var c=a(b.target),d="Before";return this.dragEl.is(c)?(this.clonedEl.remove(),void 0):(c.index()>this.dragIndex&&(d="After"),this.newIndex=c,this.clonedEl["insert"+d](c).addClass(this.placeholderClass),this.dragEl.addClass(this.draggingClass),this.emit("dragover",[b]),void 0)},onDragDrop:function(a){if(null!==this.newIndex){var b="Before";this.newIndex>this.dragIndex&&(b="After"),this.dragEl["insert"+b](this.newIndex)}this.emit("dragdrop",[a])},onDragEnd:function(a){this.dragIndex=null,this.clonedEl=null,this.dragEl=null,this.newIndex=null,this.getItems().removeClass(this.draggingClass),this.el.find("."+this.placeholderClass).remove(),this.emit("dragend",[a])}})}(jQuery);